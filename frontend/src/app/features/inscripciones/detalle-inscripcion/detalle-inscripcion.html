<div class="detalle-container">
  @if (loading) {
    <div class="loading">
      <div class="spinner"></div>
      <p>Cargando inscripciÃ³n...</p>
    </div>
  } @else if (error) {
    <div class="error-message">
      <p>{{ error }}</p>
      <button (click)="volver()">Volver</button>
    </div>
  } @else if (inscripcion) {
    <div class="detalle-header">
      <h1>âœï¸ Detalle de InscripciÃ³n</h1>
      <div class="header-actions">
        <button class="btn-secondary" (click)="volver()">â† Volver</button>
        <button class="btn-primary" (click)="editar()">âœï¸ Editar</button>
      </div>
    </div>

    <div class="detalle-content">
      <div class="info-card">
        <h2>InformaciÃ³n del Estudiante</h2>
        <div class="info-grid">
          <div class="info-item">
            <span class="label">ğŸ‘¤ Nombre:</span>
            <span class="value">{{ inscripcion.estudiante?.name }}</span>
          </div>
          <div class="info-item">
            <span class="label">ğŸ“§ Email:</span>
            <span class="value">{{ inscripcion.estudiante?.email }}</span>
          </div>
        </div>
      </div>

      <div class="info-card">
        <h2>InformaciÃ³n del Curso</h2>
        <div class="info-grid">
          <div class="info-item">
            <span class="label">ğŸ“š Curso:</span>
            <span class="value">{{ inscripcion.curso?.nombre }}</span>
          </div>
          <div class="info-item">
            <span class="label">ğŸ‘¨â€ğŸ« Profesor:</span>
            <span class="value">{{ inscripcion.curso?.profesor?.name }}</span>
          </div>
          <div class="info-item">
            <span class="label">â±ï¸ DuraciÃ³n:</span>
            <span class="value">{{ inscripcion.curso?.duracion }} horas</span>
          </div>
        </div>
      </div>

      <div class="info-card">
        <h2>Estado de la InscripciÃ³n</h2>
        <div class="info-grid">
          <div class="info-item">
            <span class="label">Estado:</span>
            <span class="badge" [ngClass]="getEstadoBadgeClass(inscripcion.estado)">
              {{ getEstadoLabel(inscripcion.estado) }}
            </span>
          </div>
          <div class="info-item">
            <span class="label">ğŸ“… Fecha de InscripciÃ³n:</span>
            <span class="value">{{ inscripcion.fecha_inscripcion | date: 'dd/MM/yyyy' }}</span>
          </div>
          <div class="info-item">
            <span class="label">ğŸ§® Nota Parcial (40%):</span>
            @if (inscripcion.nota_parcial !== null && inscripcion.nota_parcial !== undefined) {
              <span class="value nota">{{ inscripcion.nota_parcial }}</span>
            } @else {
              <span class="value nota-pendiente">Pendiente</span>
            }
          </div>
          <div class="info-item">
            <span class="label">ğŸ“Š Nota Final:</span>
            @if (inscripcion.nota_final !== null && inscripcion.nota_final !== undefined) {
              <span class="value nota">{{ inscripcion.nota_final }}</span>
            } @else {
              <span class="value nota-pendiente">Pendiente</span>
            }
          </div>
          <div class="info-item">
            <span class="label">ğŸ”¢ Promedio (40/60):</span>
            @if (inscripcion.promedio !== null && inscripcion.promedio !== undefined) {
              <span class="value nota">{{ inscripcion.promedio }}</span>
            } @else {
              <span class="value nota-pendiente">Pendiente</span>
            }
          </div>
          @if (inscripcion.fecha_finalizacion) {
            <div class="info-item">
              <span class="label">ğŸ Fecha de FinalizaciÃ³n:</span>
              <span class="value">{{ inscripcion.fecha_finalizacion | date: 'dd/MM/yyyy' }}</span>
            </div>
          }
        </div>
      </div>
    </div>
  }
</div>
